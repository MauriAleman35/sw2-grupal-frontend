<!-- organization/components/events/event-media/event-media.component.html -->
<div class="media-container">
  <h3 class="section-title">Medios del Evento</h3>
  
  <form [formGroup]="mediaForm" class="media-form">
    <!-- Sección de carga de imagen -->
    <div class="image-upload-section">
      <h4>Imagen del Evento</h4>
      
      <!-- Vista previa de la imagen (se muestra si hay una imagen) -->
      <div class="image-preview-container" *ngIf="imagePreviewUrl">
        <img [src]="imagePreviewUrl" alt="Vista previa de la imagen" class="image-preview">
        <div class="image-actions">
          <button 
            type="button" 
            mat-mini-fab 
            color="warn" 
            (click)="removeImage()"
            aria-label="Eliminar imagen"
          >
            <mat-icon>delete</mat-icon>
          </button>
        </div>
      </div>
      
      <!-- Botón de carga (se muestra si no hay imagen) -->
      <div class="upload-container" *ngIf="!imagePreviewUrl">
        <button 
          type="button" 
          mat-raised-button 
          color="primary" 
          (click)="fileInput.click()"
        >
          <mat-icon>add_photo_alternate</mat-icon>
          Seleccionar Imagen
        </button>
        <input 
          #fileInput 
          type="file" 
          style="display: none" 
          accept="image/*" 
          (change)="onFileSelected($event)"
        >
        <p class="upload-hint">Formatos recomendados: JPG, PNG (máx. 5MB)</p>
      </div>
      
      <!-- Mensaje de error si la imagen es requerida -->
      <mat-error *ngIf="mediaForm.get('imageUrl')?.hasError('required') && mediaForm.get('imageUrl')?.touched">
        La imagen es obligatoria para el evento
      </mat-error>
    </div>
    
    
    
    
  </form>
</div>